singleton VFS {
	new_instance, errno_t, out obj vfs_instance *instance;
}

obj vfs_wrapped_handle {}

obj vfs_instance {
	clone, errno_t, int oldfd, int newfd, bool desc, out int outfd;
	fsprobe, errno_t, service_id_t service_id, in str *fs_name, out vfs_fs_probe_info_t *info;
	fstypes, errno_t, out *fstypes;
	mount, errno_t, int mpfd, service_id_t service_id, unsigned flags, unsigned instance, in str *opts, in str *fs_name, out int outfd;
	open, errno_t, int fd, int mode;
	put, errno_t, int fd;
	read, errno_t, int fd, in64 aoff64_t pos, out *buffer, out size_t read;
	rename, errno_t, int basefd, in str *old, in str *new;
	resize, errno_t, int fd, in64 int64_t size;
	stat, errno_t, int fd, out vfs_stat_t *data;
	statfs, errno_t, int fd, out vfs_statfs_t *data;
	sync, errno_t, int fd;
	unlink, errno_t, int parentfd, int expectfd, in str *path;
	unmount, errno_t, int mpfd;
	wrap_handle, errno_t, int fd, out obj vfs_wrapped_handle *handle;
	unwrap_handle, errno_t, obj vfs_wrapped_handle *handle, bool high_fd, out int fd;
	walk, errno_t, int parentfd, int flags, in str *path, out int fd;
	write, errno_t, int fd, in64 aoff64_t pos, in *buffer, out size_t written;
}
